<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Poke Game</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='reset.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    </head>

    <body>
        {% block content%}{% endblock %}

        <footer class="footer">
            <p>This website is not endorsed or affiliated with the Pokémon or Nintendo. Additionally, this site is not endorsed by Pokémon or by it's creators.</p>
        </footer>

        <script>
            // Function to check user input in the toogle button (day/night switch)
            document.addEventListener('DOMContentLoaded', function() {
            const toggleInput = document.getElementById('toggleBackground');

            // Check the stored state when loading the page
            const toggleState = localStorage.getItem('toggleState');
            if (toggleState === 'on') {
                toggleInput.checked = true;
                document.querySelector('.main_content').style.backgroundImage = 'url("/static/assets/night.jpg")';
            } else {
                toggleInput.checked = false;
                document.querySelector('.main_content').style.backgroundImage = 'url("/static/assets/day.jpg")';
            }

            // Update the localStorage when the toggle is changed
            toggleInput.addEventListener('change', function() {
                if (toggleInput.checked) {
                    localStorage.setItem('toggleState', 'on');
                    document.querySelector('.main_content').style.backgroundImage = 'url("/static/assets/night.jpg")';
                } else {
                    localStorage.setItem('toggleState', 'off');
                    document.querySelector('.main_content').style.backgroundImage = 'url("/static/assets/day.jpg")';
                }
            });
        });

        // Function to flash green/red for the user's correct/incorrect answer
        function userAction(isCorrect) {
            const main_content = document.querySelector('.main_content');
            if (isCorrect) {
                main_content.classList.add('correct');
                setTimeout(() => {
                    main_content.classList.remove('correct');
                }, 500);
            } else {
                main_content.classList.add('wrong');
                setTimeout(() => {
                    main_content.classList.remove('wrong');
                }, 500);
            }
        }

        // Function to send POST request to the specified 'url' with the 'data' as form fields.
        function postToURL(url, data) {
            var form = document.createElement('form');
            form.method = 'POST';
            form.action = url;

            for (var key in data) {
                var input = document.createElement('input');
                input.type = 'hidden';
                input.name = key;
                input.value = data[key];
                form.appendChild(input);
            }

            document.body.appendChild(form);
            form.submit();
        }
        </script>         
    </body>
</html>